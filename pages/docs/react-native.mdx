# React Native

We also published a React Native version of this library that you can find at [https://github.com/Serenity-kit/react-native-opaque](https://github.com/Serenity-kit/react-native-opaque).

## Features

- Supports Expo using `expo-dev-client`
- Supports React Native Web

## Installation

```bash
npm install react-native-opaque
```

The API is identical to the web version, except that you need to import from `react-native-opaque` instead of `@serenity-kit/opaque`.

One difference is that the `ready` Promise is already resolved when the `react-native-opaque` module is imported.

If you are using `react-native-web` you still need to wait for `ready` to resolve before you can use any function from `react-native-opaque`.

## Expo support

1. Setup an Expo project
2. Setup EAS:

```sh
eas build:configure
```

3. Add a simulator build to eas.json

```json
{
  "build": {
    "development-simulator": {
      "developmentClient": true,
      "distribution": "internal",
      "ios": {
        "simulator": true
      }
    }
  }
}
```

4. Add expo-dev-client to package.json

```sh
npx expo install expo-dev-client
```

Add this to the top of App.js

```js
import "expo-dev-client";
```

Replace in package.json:

```json
"start": "expo start",
"android": "expo start --android",
"ios": "expo start --ios",
"web": "expo start --web"
```

with:

```json
"start": "expo start --dev-client",
"android": "expo start --android --dev-client",
"ios": "expo start --ios --dev-client",
"web": "expo start --web --dev-client"
```

5. Commit your changes

6. Add react-native-opaque

```sh
npx expo install react-native-opaque
```

7. Run a build

```sh
eas build --profile development-simulator --platform ios
```

## Advanced usage

TODO p256 support
